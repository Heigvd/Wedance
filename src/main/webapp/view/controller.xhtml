<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="template/app-default.xhtml">

        <ui:define name="title">Controller</ui:define>

        <ui:define name="body">
            <!-- Pusher JS -->
            <script src="http://js.pusher.com/1.11/pusher.min.js" type="text/javascript"></script>

            <script type="text/javascript">
                YUI().use('wedance-controller', function(Y) {
                    Y.once('domready', function() {                             // When dom is ready,
                        var app = new Y.wedance.App({
                            instanceId: #{gameController.instance.id},
                            sessionId: "#{gameController.getSession()}",
                            widgetCfg: {
                                type: Y.wedance.Controller
                            }
                        });                                                     // launch the app
                        app.render();
                    });
                });
            </script>
        </ui:define>
    </ui:composition>
</html>
